:root { --bg:#0a0a0f; --text:#fff; --accent:#00d4ff; --glass:rgba(255,255,255,.07); }
  [data-theme=light] { --bg:#f8f9fa; --text:#00d4ff; --accent:#0066ff; --glass:rgba(0,0,0,.07); }
  *{margin:0;padding:0;box-sizing:border-box;}
  body,html{height:100%;overflow:hidden;background:var(--bg);color:var(--text);font-family:'Inter',sans-serif;transition:all .4s;}
  #app{width:100vw;height:100vh;position:relative;background:var(--bg) no-repeat center/cover fixed;transition:background-image 3s cubic-bezier(.22,1,.36,1);}
  .wallpaper-overlay{position:absolute;inset:0;background:rgba(10,10,30,.82);opacity:0;transition:opacity 2.5s;pointer-events:none;z-index:1;}
  .wallpaper-active .wallpaper-overlay{opacity:1;}

  .intro{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:40px;z-index:9999;background:var(--bg);}
  .intro-title{font-family:'Playfair Display',serif;font-size:clamp(64px,14vw,180px);font-weight:700;letter-spacing:-2px;text-align:center;overflow:hidden;white-space:nowrap;border-right:4px solid #00d4ff;animation:typing 4s steps(14) forwards,blink .8s infinite;}
  .intro-subtitle{font-size:clamp(18px,4vw,32px);opacity:0;letter-spacing:8px;text-transform:uppercase;animation:fadeIn 2s ease forwards 4.5s;}
  @keyframes typing{from{width:0}to{width:14ch}}
  @keyframes blink{50%{border-color:transparent}}
  @keyframes fadeIn{to{opacity:.8}}

  .main-app{position:absolute;inset:0;opacity:0;transition:opacity 2s 5s;z-index:10;}
  .main-app.visible{opacity:1;}
  .clock-section{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;z-index:20;width:90%;max-width:800px;}
  .time-container{display:flex;align-items:flex-end;justify-content:center;gap:16px;perspective:1000px;}
  .digital-time{font-family:'Orbitron',monospace;font-size:clamp(72px,19vw,240px);font-weight:500;letter-spacing:-6px;background:linear-gradient(90deg,#00d4ff,#ff6f61,#9d00ff,#00ff9d);background-size:400%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gradientFlow 12s ease infinite,float 6s ease-in-out infinite;text-shadow:0 0 60px rgba(0,212,255,.5);}
  .ampm{font-family:'Orbitron',monospace;font-size:clamp(32px,8vw,90px);opacity:.9;margin-bottom:16px;color:#00d4ff;animation:pulseGlow 4s ease-in-out infinite;}
  @keyframes gradientFlow{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
  @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
  @keyframes pulseGlow{0%,100%{text-shadow:0 0 10px #00d4ff}50%{text-shadow:0 0 30px #00d4ff,0 0 50px #00d4ff}}

  .date{font-size:clamp(20px,4.5vw,40px);opacity:.85;letter-spacing:5px;margin-top:20px;}

  .top-controls{position:absolute;top:24px;left:50%;transform:translateX(-50%);display:flex;gap:20px;z-index:100;flex-wrap:wrap;justify-content:center;width:90%;}
  .control-btn{width:64px;height:64px;background:var(--glass);border:1px solid rgba(255,255,255,.25);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;backdrop-filter:blur(30px);transition:all .4s;}
  .control-btn:hover{transform:scale(1.2);border-color:var(--accent);box-shadow:0 0 30px rgba(0,212,255,.4);}

  .tz-modal{position:fixed;inset:0;background:rgba(0,0,0,.94);backdrop-filter:blur(20px);display:none;align-items:center;justify-content:center;z-index:2000;padding:20px;}
  .tz-modal.active{display:flex;}
  .tz-content{width:100%;max-width:900px;max-height:90vh;background:rgba(20,20,40,.97);border-radius:28px;border:1px solid rgba(255,255,255,.12);overflow:hidden;display:flex;flex-direction:column;}
  .tz-header{padding:24px;text-align:center;border-bottom:1px solid rgba(255,255,255,.1);}
  .tz-header h2{font-size:28px;margin-bottom:16px;}
  .tz-search{width:100%;padding:18px 24px;font-size:20px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.2);border-radius:14px;color:#fff;}
  .tz-grid{padding:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;overflow-y:auto;flex:1;}
  .tz-item{padding:26px;text-align:center;background:rgba(255,255,255,.06);border-radius:20px;cursor:pointer;transition:all .4s;}
  .tz-item:hover{background:rgba(0,212,255,.25);transform:translateY(-10px) scale(1.06);box-shadow:0 20px 50px rgba(0,212,255,.3);}
  .tz-city{font-size:22px;font-weight:600;margin-bottom:8px;}
  .tz-offset{opacity:.8;font-size:16px;}

  .panel{position:fixed;inset:0;background:rgba(10,10,20,.98);backdrop-filter:blur(50px);z-index:3000;opacity:0;visibility:hidden;transition:all 1s cubic-bezier(.22,1,.36,1);display:flex;flex-direction:column;align-items:center;justify-content:center;padding:50px;}
  .panel.active{opacity:1;visibility:visible;}
  .close{position:absolute;top:40px;right:40px;width:70px;height:70px;border:2px solid rgba(255,255,255,.3);border-radius:50%;cursor:pointer;transition:.5s;}
  .close::before,.close::after{content:'';position:absolute;top:50%;left:50%;width:36px;height:3px;background:#fff;transform:translate(-50%,-50%) rotate(45deg);}
  .close::after{transform:translate(-50%,-50%) rotate(-45deg);}
  .close:hover{border-color:#ff3366;transform:rotate(90deg);}
  .panel-city{font-size:clamp(50px,11vw,150px);margin-bottom:20px;background:linear-gradient(90deg,#00ff9d,#00d4ff,#ff6f61);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
  .panel-time{font-size:clamp(100px,20vw,250px);font-weight:100;letter-spacing:-6px;font-family:'Orbitron',monospace;background:linear-gradient(90deg,#00d4ff,#ff6f61,#9d00ff);background-size:300% 300%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:gradientFlow 10s ease infinite;}
  .panel-ampm{font-size:clamp(40px,10vw,110px);font-family:'Orbitron',monospace;opacity:.9;margin-bottom:16px;color:#00d4ff; text-align: end;}
  .panel-offset{font-size:34px;opacity:.7;letter-spacing:6px;margin-top:30px;}